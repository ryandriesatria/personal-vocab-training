<section class="space-y-6">
  <div class="rounded-3xl border border-[var(--app-border)] bg-[var(--app-surface)] p-6 shadow-lg">
    <p class="text-xs uppercase tracking-[0.25em] text-[var(--app-muted)]">Daily score</p>
    @if (latestAttempt(); as attempt) {
      <p class="mt-3 text-4xl font-semibold text-[var(--app-accent-strong)]">
        {{ attempt.score }} / {{ attempt.items.length }}
      </p>
      <p class="mt-2 text-sm text-[var(--app-muted)]">
        Results show the correct answer, your answer, and a status badge.
      </p>
    } @else {
      <p class="mt-3 text-2xl text-[var(--app-muted)]">No quiz attempts yet.</p>
    }
  </div>

  <div class="rounded-3xl border border-[var(--app-border)] bg-[var(--app-surface)] p-6 shadow-sm">
    <h2 class="text-lg font-semibold text-[var(--app-text)]">Review</h2>
    <div class="mt-4 space-y-3 text-sm text-[var(--app-muted)]">
      @if (answers().length === 0) {
        <p class="text-[var(--app-muted)]">Complete a quiz to see the review list.</p>
      } @else {
        @for (answer of answers(); track answer.wordId) {
          <div class="rounded-2xl border border-[var(--app-border)] bg-[var(--app-surface-soft)] p-4">
            <div class="flex flex-wrap items-center justify-between gap-2">
              <div>
                <p class="font-semibold text-[var(--app-text)]">{{ answer.kr }}</p>
                <p class="mt-1 text-xs uppercase tracking-[0.2em] text-[var(--app-muted)]">
                  {{ answer.correctEn }}
                </p>
              </div>
              @if (answer.isCorrect) {
                <span
                  class="rounded-full border border-[var(--app-border)] bg-[var(--app-surface)] px-3 py-1 text-xs text-[var(--app-accent-strong)]"
                >
                  Correct
                </span>
              } @else {
                <span
                  class="rounded-full border border-[var(--app-border)] bg-[var(--app-surface)] px-3 py-1 text-xs text-[var(--app-danger)]"
                >
                  Incorrect
                </span>
              }
            </div>
            <p class="mt-2 text-[var(--app-muted)]">Your answer: {{ answer.userAnswer }}</p>
          </div>
        }
      }
    </div>
  </div>

  <div class="flex flex-wrap gap-3">
    <a
      class="inline-flex items-center justify-center rounded-full bg-[var(--app-accent-strong)] px-6 py-2 text-sm font-semibold text-[var(--app-surface)] transition hover:opacity-90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-accent-strong)]"
      routerLink="/quiz"
    >
      Start new quiz
    </a>
    <button
      class="inline-flex items-center justify-center rounded-full border border-[var(--app-border)] bg-[var(--app-surface)] px-6 py-2 text-sm font-semibold text-[var(--app-danger)] transition hover:text-[var(--app-danger)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-danger)]"
      type="button"
      (click)="resetProgress()"
    >
      Reset progress
    </button>
    <a
      class="inline-flex items-center justify-center rounded-full border border-[var(--app-border)] px-6 py-2 text-sm font-semibold text-[var(--app-text)] transition hover:text-[var(--app-accent)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--app-accent)]"
      routerLink="/"
    >
      Back home
    </a>
  </div>
</section>
